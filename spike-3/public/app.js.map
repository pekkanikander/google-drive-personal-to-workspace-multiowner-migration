{
  "version": 3,
  "sources": ["../src/config.ts", "../src/auth.ts", "../src/drive.ts", "../src/csv.ts", "../src/sheets.ts", "../src/app.ts"],
  "sourcesContent": ["export interface OAuthConfig {\n  clientId: string;\n}\n\nexport interface AdminConfig {\n  sourceRootFolderId: string;\n  destinationManifestFolderId: string;\n  manifestFilename: string;\n}\n\n// TODO: Fill these with real IDs/client once ready to run the spike locally.\nexport const oauthConfig: OAuthConfig = {\n  clientId: \"554015392094-jbp76oeeqr52d4ol8c261fg398cvecio.apps.googleusercontent.com\"\n};\n\nexport const adminConfig: AdminConfig = {\n  sourceRootFolderId: \"1BOVZer9jAPNhHS7syxLf99n9Tf-27B4O\",\n  destinationManifestFolderId: \"10Px9dQKe2WeBl1YGf1BHafs5C4MicfWq\",\n  manifestFilename: \"spike-3-manifest.csv\"\n};\n", "import { oauthConfig } from \"./config\";\n\n// Minimal GIS token-client auth, mirroring spike-2.\n// Public client; no secret; obtains access token + email via userinfo.\n\nconst GIS_SCRIPT_SRC = \"https://accounts.google.com/gsi/client\";\nconst USERINFO_ENDPOINT = \"https://openidconnect.googleapis.com/v1/userinfo\";\n\nconst SCOPES = [\"openid\", \"email\", \"profile\", \"https://www.googleapis.com/auth/drive\", \"https://www.googleapis.com/auth/spreadsheets\"];\n\nexport interface AuthResponse {\n  accessToken: string;\n  expiresIn: number;\n  email?: string;\n}\n\ntype GisTokenResponse = {\n  access_token?: string;\n  expires_in?: number;\n  error?: string;\n  error_description?: string;\n};\n\ndeclare global {\n  interface Window {\n    google?: any;\n  }\n}\n\nfunction loadGisScriptOnce(): Promise<void> {\n  if (window.google?.accounts?.oauth2) return Promise.resolve();\n\n  const existing = document.querySelector(`script[src=\"${GIS_SCRIPT_SRC}\"]`) as HTMLScriptElement | null;\n  if (existing) {\n    return new Promise<void>((resolve, reject) => {\n      existing.addEventListener(\"load\", () => resolve(), { once: true });\n      existing.addEventListener(\"error\", () => reject(new Error(\"Failed to load Google Identity Services script.\")), { once: true });\n    });\n  }\n\n  return new Promise<void>((resolve, reject) => {\n    const script = document.createElement(\"script\");\n    script.src = GIS_SCRIPT_SRC;\n    script.async = true;\n    script.defer = true;\n    script.onload = () => resolve();\n    script.onerror = () => reject(new Error(\"Failed to load Google Identity Services script.\"));\n    document.head.appendChild(script);\n  });\n}\n\nasync function fetchUserEmail(accessToken: string): Promise<string | undefined> {\n  const res = await fetch(USERINFO_ENDPOINT, {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${accessToken}`\n    }\n  });\n\n  if (!res.ok) return undefined;\n\n  const data = (await res.json()) as { email?: string };\n  return data.email;\n}\n\nexport async function runBrowserAuth(): Promise<AuthResponse> {\n  await loadGisScriptOnce();\n\n  const tokenClient = window.google.accounts.oauth2.initTokenClient({\n    client_id: oauthConfig.clientId,\n    scope: SCOPES.join(\" \"),\n    callback: () => {\n      // replaced per-request below\n    }\n  });\n\n  const token = await new Promise<GisTokenResponse>((resolve) => {\n    tokenClient.callback = (resp: GisTokenResponse) => resolve(resp);\n    tokenClient.requestAccessToken({ prompt: \"consent\" });\n  });\n\n  if (token.error) {\n    const desc = token.error_description ? `: ${token.error_description}` : \"\";\n    throw new Error(`OAuth token request failed: ${token.error}${desc}`);\n  }\n\n  const accessToken = token.access_token;\n  const expiresIn = token.expires_in;\n\n  if (!accessToken || !expiresIn) {\n    throw new Error(\"OAuth token request returned no access_token/expires_in.\");\n  }\n\n  const email = await fetchUserEmail(accessToken);\n\n  return { accessToken, expiresIn, email };\n}\n", "export interface DriveItem {\n  id: string;\n  name?: string;\n  mimeType?: string;\n  parents?: string[];\n  owners?: Array<{ emailAddress?: string }>;\n  driveId?: string;\n  trashed?: boolean;\n  shortcutDetails?: { targetId?: string; targetMimeType?: string };\n  permissions?: Array<{ type?: string; role?: string; emailAddress?: string }>;\n  createdTime?: string;\n  modifiedTime?: string;\n}\n\ninterface ListPage {\n  items: DriveItem[];\n  nextPageToken?: string;\n}\n\nconst FOLDER_MIME = \"application/vnd.google-apps.folder\";\n\nasync function fetchJson<T>(url: string, options: RequestInit): Promise<T> {\n  const res = await fetch(url, options);\n  const bodyText = await res.text();\n  if (!res.ok) {\n    throw new Error(`Drive API error ${res.status}: ${res.statusText}. Body: ${bodyText}`);\n  }\n  return (bodyText ? (JSON.parse(bodyText) as T) : ({} as T));\n}\n\nasync function listFolderOnce(accessToken: string, folderId: string, pageToken?: string): Promise<ListPage> {\n  const fields = [\n    \"nextPageToken\",\n    \"files(id,name,mimeType,parents,owners(emailAddress),driveId,trashed,shortcutDetails(targetId,targetMimeType),permissions(emailAddress,role,type),createdTime,modifiedTime)\"\n  ].join(\",\");\n\n  const params = new URLSearchParams({\n    q: `'${folderId}' in parents`,\n    includeItemsFromAllDrives: \"true\",\n    supportsAllDrives: \"true\",\n    fields\n  });\n\n  if (pageToken) params.set(\"pageToken\", pageToken);\n\n  const url = `https://www.googleapis.com/drive/v3/files?${params.toString()}`;\n\n  const page = await fetchJson<{ files: DriveItem[]; nextPageToken?: string }>(url, {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${accessToken}`\n    }\n  });\n\n  return {\n    items: page.files ?? [],\n    nextPageToken: page.nextPageToken\n  };\n}\n\nexport async function enumerateTree(\n  accessToken: string,\n  rootFolderId: string,\n  onPage?: (info: { folderId: string; items: number; page: number }) => void\n): Promise<DriveItem[]> {\n  const all: DriveItem[] = [];\n  const queue: string[] = [rootFolderId];\n\n  while (queue.length > 0) {\n    const folderId = queue.shift() as string;\n    let pageToken: string | undefined;\n    let pageIndex = 0;\n\n    do {\n      const page = await listFolderOnce(accessToken, folderId, pageToken);\n      all.push(...page.items);\n\n      for (const item of page.items) {\n        if (item.mimeType === FOLDER_MIME && item.id) {\n          queue.push(item.id);\n        }\n      }\n\n      pageIndex += 1;\n      if (onPage) onPage({ folderId, items: page.items.length, page: pageIndex });\n\n      pageToken = page.nextPageToken;\n    } while (pageToken);\n  }\n\n  return all;\n}\n\nexport async function uploadCsvToDrive(\n  accessToken: string,\n  destinationFolderId: string,\n  filename: string,\n  csvContent: string\n): Promise<string> {\n  const boundary = \"-------drive-spike-3-\" + Math.random().toString(16).slice(2);\n  const delimiter = `--${boundary}`;\n  const closeDelimiter = `--${boundary}--`;\n\n  const metadata = {\n    name: filename,\n    parents: [destinationFolderId],\n    mimeType: \"text/csv\"\n  };\n\n  const body = [\n    delimiter,\n    \"Content-Type: application/json; charset=UTF-8\",\n    \"\",\n    JSON.stringify(metadata),\n    delimiter,\n    \"Content-Type: text/csv; charset=UTF-8\",\n    \"\",\n    csvContent,\n    closeDelimiter,\n    \"\"\n  ].join(\"\\r\\n\");\n\n  const url = \"https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&supportsAllDrives=true\";\n\n  const res = await fetch(url, {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n      \"Content-Type\": `multipart/related; boundary=${boundary}`\n    },\n    body\n  });\n\n  const bodyText = await res.text();\n  if (!res.ok) {\n    throw new Error(`Failed to upload CSV: ${res.status} ${res.statusText}. Body: ${bodyText}`);\n  }\n\n  const json = bodyText ? (JSON.parse(bodyText) as { id?: string }) : {};\n  if (!json.id) {\n    throw new Error(\"Upload succeeded but response missing file id.\");\n  }\n  return json.id;\n}\n", "import { DriveItem } from \"./drive\";\n\nexport const HEADERS = [\n  \"id\",\n  \"name\",\n  \"mimeType\",\n  \"parents\",\n  \"owners\",\n  \"driveId\",\n  \"trashed\",\n  \"shortcut_target_id\",\n  \"shortcut_target_mimeType\",\n  \"permissions\",\n  \"createdTime\",\n  \"modifiedTime\"\n] as const;\n\nfunction csvEscape(value: string): string {\n  const needsQuotes = value.includes(\",\") || value.includes('\"') || value.includes(\"\\n\") || value.includes(\"\\r\");\n  if (!needsQuotes) return value;\n  return `\"${value.replace(/\"/g, '\"\"')}\"`;\n}\n\nfunction formatOwners(item: DriveItem): string {\n  return (item.owners ?? [])\n    .map((o) => o.emailAddress)\n    .filter((e): e is string => !!e)\n    .join(\";\");\n}\n\nfunction formatParents(item: DriveItem): string {\n  return (item.parents ?? []).join(\";\");\n}\n\nfunction formatPermissions(item: DriveItem): string {\n  const perms = (item.permissions ?? []).map((p) => ({\n    type: p.type,\n    role: p.role,\n    emailAddress: p.emailAddress\n  }));\n  return perms.length > 0 ? JSON.stringify(perms) : \"\";\n}\n\nexport function itemsToRows(items: DriveItem[]): string[][] {\n  const rows: string[][] = [];\n  rows.push([...HEADERS]);\n\n  for (const item of items) {\n    rows.push([\n      item.id ?? \"\",\n      item.name ?? \"\",\n      item.mimeType ?? \"\",\n      formatParents(item),\n      formatOwners(item),\n      item.driveId ?? \"\",\n      item.trashed ? \"true\" : \"false\",\n      item.shortcutDetails?.targetId ?? \"\",\n      item.shortcutDetails?.targetMimeType ?? \"\",\n      formatPermissions(item),\n      item.createdTime ?? \"\",\n      item.modifiedTime ?? \"\"\n    ]);\n  }\n\n  return rows;\n}\n\nexport function renderCsv(items: DriveItem[]): string {\n  const lines: string[] = [];\n  const rows = itemsToRows(items);\n  for (const row of rows) {\n    lines.push(row.map((v) => csvEscape(v)).join(\",\"));\n  }\n  return lines.join(\"\\n\");\n}\n", "import { DriveItem } from \"./drive\";\nimport { HEADERS, itemsToRows } from \"./csv\";\n\nconst SHEET_MIME = \"application/vnd.google-apps.spreadsheet\";\n\nfunction baseTitle(csvName: string): string {\n  return csvName.replace(/\\.csv$/i, \"\") || \"spike-3-manifest\";\n}\n\nasync function createEmptySheet(accessToken: string, destinationFolderId: string, title: string): Promise<string> {\n  const url = \"https://www.googleapis.com/drive/v3/files?supportsAllDrives=true\";\n  const metadata = {\n    name: title,\n    mimeType: SHEET_MIME,\n    parents: [destinationFolderId]\n  };\n\n  const res = await fetch(url, {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(metadata)\n  });\n\n  const bodyText = await res.text();\n  if (!res.ok) {\n    throw new Error(`Failed to create sheet: ${res.status} ${res.statusText}. Body: ${bodyText}`);\n  }\n\n  const json = bodyText ? (JSON.parse(bodyText) as { id?: string }) : {};\n  if (!json.id) throw new Error(\"Sheet creation succeeded but missing file id.\");\n  return json.id;\n}\n\nasync function writeRows(accessToken: string, spreadsheetId: string, rows: string[][]): Promise<void> {\n  // Use default first sheet \"Sheet1\".\n  const range = \"Sheet1!A1\";\n  const url = `https://sheets.googleapis.com/v4/spreadsheets/${encodeURIComponent(spreadsheetId)}/values/${encodeURIComponent(\n    range\n  )}?valueInputOption=RAW`;\n\n  const res = await fetch(url, {\n    method: \"PUT\",\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({ values: rows })\n  });\n\n  const bodyText = await res.text();\n  if (!res.ok) {\n    throw new Error(`Failed to write sheet values: ${res.status} ${res.statusText}. Body: ${bodyText}`);\n  }\n}\n\nexport async function createSheetFromItems(\n  accessToken: string,\n  destinationFolderId: string,\n  suggestedName: string,\n  items: DriveItem[]\n): Promise<{ spreadsheetId: string; title: string }> {\n  const rows = itemsToRows(items);\n  // Ensure header row present even if items empty.\n  if (rows.length === 0) rows.push([...HEADERS]);\n\n  const title = baseTitle(suggestedName);\n  const spreadsheetId = await createEmptySheet(accessToken, destinationFolderId, title);\n  await writeRows(accessToken, spreadsheetId, rows);\n\n  return { spreadsheetId, title };\n}\n", "import { runBrowserAuth, AuthResponse } from \"./auth\";\nimport { adminConfig } from \"./config\";\nimport { DriveItem, enumerateTree, uploadCsvToDrive } from \"./drive\";\nimport { renderCsv } from \"./csv\";\nimport { createSheetFromItems } from \"./sheets\";\n\nlet auth: AuthResponse | null = null;\nlet items: DriveItem[] = [];\n\nfunction byId<T extends HTMLElement>(id: string): T | null {\n  return document.getElementById(id) as T | null;\n}\n\nfunction setStatus(message: string): void {\n  const el = byId<HTMLSpanElement>(\"status\");\n  if (el) el.textContent = message;\n}\n\nfunction appendLog(message: string): void {\n  const el = byId<HTMLPreElement>(\"log\");\n  if (!el) return;\n  el.textContent += message + \"\\n\";\n  el.scrollTop = el.scrollHeight;\n}\n\nfunction setRunning(running: boolean): void {\n  const buttons = [\n    \"auth\",\n    \"enumerate\",\n    \"download\",\n    \"upload\",\n    \"sheet\"\n  ]\n    .map((id) => byId<HTMLButtonElement>(id))\n    .filter((b): b is HTMLButtonElement => !!b);\n  buttons.forEach((b) => (b.disabled = running));\n}\n\nfunction summarise(items: DriveItem[]): { folders: number; files: number; shortcuts: number; multiParent: DriveItem[] } {\n  let folders = 0;\n  let files = 0;\n  let shortcuts = 0;\n  const multiParent: DriveItem[] = [];\n\n  for (const item of items) {\n    if (item.mimeType === \"application/vnd.google-apps.folder\") {\n      folders += 1;\n    } else if (item.shortcutDetails) {\n      shortcuts += 1;\n      files += 1; // still include in total\n    } else {\n      files += 1;\n    }\n\n    if ((item.parents?.length ?? 0) > 1) {\n      multiParent.push(item);\n    }\n  }\n\n  return { folders, files, shortcuts, multiParent };\n}\n\nfunction showSummary(items: DriveItem[]): void {\n  const summary = summarise(items);\n  const el = byId<HTMLDivElement>(\"summary\");\n  if (!el) return;\n\n  el.innerHTML = `\n    <div><strong>Total items:</strong> ${items.length}</div>\n    <div><strong>Folders:</strong> ${summary.folders}</div>\n    <div><strong>Files (incl. shortcuts):</strong> ${summary.files}</div>\n    <div><strong>Shortcuts:</strong> ${summary.shortcuts}</div>\n    <div><strong>Multi-parent items:</strong> ${summary.multiParent.length}</div>\n  `;\n\n  const multi = byId<HTMLPreElement>(\"multiparent\");\n  if (multi) {\n    if (summary.multiParent.length === 0) {\n      multi.textContent = \"(none)\";\n    } else {\n      const lines = summary.multiParent.map((m) => `${m.id} :: ${m.name ?? \"(unnamed)\"} :: parents=${(m.parents ?? []).join(\";\")}`);\n      multi.textContent = lines.join(\"\\n\");\n    }\n  }\n}\n\nfunction ensureAuth(): asserts auth is AuthResponse {\n  if (!auth) {\n    throw new Error(\"Authenticate first.\");\n  }\n}\n\nasync function handleAuth(): Promise<void> {\n  setRunning(true);\n  setStatus(\"Authorising with Google...\");\n  appendLog(\"Starting OAuth...\");\n  try {\n    auth = await runBrowserAuth();\n    setStatus(`Authenticated as ${auth.email ?? \"unknown user\"}. Token expires in ${auth.expiresIn}s.`);\n    appendLog(`Auth OK. Email: ${auth.email ?? \"unknown\"}`);\n  } catch (err) {\n    setStatus(err instanceof Error ? err.message : String(err));\n    appendLog(\"Auth failed.\");\n  } finally {\n    setRunning(false);\n  }\n}\n\nasync function handleEnumerate(): Promise<void> {\n  setRunning(true);\n  setStatus(\"Enumerating...\");\n  appendLog(\"Starting enumeration...\");\n  items = [];\n\n  try {\n    ensureAuth();\n    const root = adminConfig.sourceRootFolderId;\n    if (!root || root.startsWith(\"REPLACE_WITH\")) {\n      throw new Error(\"Configure sourceRootFolderId first.\");\n    }\n\n    items = await enumerateTree(auth.accessToken, root, ({ folderId, items, page }) => {\n      appendLog(`Folder ${folderId}: page ${page}, ${items} items`);\n    });\n\n    setStatus(`Done. Collected ${items.length} entries.`);\n    appendLog(\"Enumeration complete.\");\n    showSummary(items);\n  } catch (err) {\n    setStatus(err instanceof Error ? err.message : String(err));\n    appendLog(\"Enumeration failed.\");\n  } finally {\n    setRunning(false);\n  }\n}\n\nfunction handleDownload(): void {\n  if (items.length === 0) {\n    setStatus(\"Nothing to download. Run enumeration first.\");\n    return;\n  }\n  const csv = renderCsv(items);\n  const blob = new Blob([csv], { type: \"text/csv\" });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement(\"a\");\n  a.href = url;\n  a.download = adminConfig.manifestFilename || \"manifest.csv\";\n  document.body.appendChild(a);\n  a.click();\n  a.remove();\n  URL.revokeObjectURL(url);\n  setStatus(\"CSV downloaded.\");\n}\n\nasync function handleUpload(): Promise<void> {\n  setRunning(true);\n  try {\n    ensureAuth();\n    if (items.length === 0) throw new Error(\"Nothing to upload. Run enumeration first.\");\n\n    const csv = renderCsv(items);\n    const dest = adminConfig.destinationManifestFolderId;\n    if (!dest || dest.startsWith(\"REPLACE_WITH\")) {\n      throw new Error(\"Configure destinationManifestFolderId first.\");\n    }\n\n    setStatus(\"Uploading CSV to Drive...\");\n    const fileId = await uploadCsvToDrive(auth.accessToken, dest, adminConfig.manifestFilename, csv);\n    setStatus(`Uploaded manifest to Drive. File ID: ${fileId}`);\n    appendLog(`Upload OK. File ID: ${fileId}`);\n  } catch (err) {\n    setStatus(err instanceof Error ? err.message : String(err));\n    appendLog(\"Upload failed.\");\n  } finally {\n    setRunning(false);\n  }\n}\n\nasync function handleSheet(): Promise<void> {\n  setRunning(true);\n  try {\n    ensureAuth();\n    if (items.length === 0) throw new Error(\"Nothing to write. Run enumeration first.\");\n    const dest = adminConfig.destinationManifestFolderId;\n    if (!dest || dest.startsWith(\"REPLACE_WITH\")) {\n      throw new Error(\"Configure destinationManifestFolderId first.\");\n    }\n\n    const title = (adminConfig.manifestFilename || \"spike-3-manifest\").replace(/\\.csv$/i, \"\");\n\n    setStatus(\"Creating Google Sheet...\");\n    const { spreadsheetId } = await createSheetFromItems(auth.accessToken, dest, title, items);\n    setStatus(`Sheet created. Spreadsheet ID: ${spreadsheetId}`);\n    appendLog(`Sheet created. Spreadsheet ID: ${spreadsheetId}`);\n  } catch (err) {\n    setStatus(err instanceof Error ? err.message : String(err));\n    appendLog(\"Sheet creation failed.\");\n  } finally {\n    setRunning(false);\n  }\n}\n\nfunction init(): void {\n  byId<HTMLButtonElement>(\"auth\")?.addEventListener(\"click\", () => void handleAuth());\n  byId<HTMLButtonElement>(\"enumerate\")?.addEventListener(\"click\", () => void handleEnumerate());\n  byId<HTMLButtonElement>(\"download\")?.addEventListener(\"click\", () => handleDownload());\n  byId<HTMLButtonElement>(\"upload\")?.addEventListener(\"click\", () => void handleUpload());\n  byId<HTMLButtonElement>(\"sheet\")?.addEventListener(\"click\", () => void handleSheet());\n\n  const cfg = byId<HTMLPreElement>(\"config\");\n  if (cfg) {\n    cfg.textContent = JSON.stringify(\n      {\n        sourceRootFolderId: adminConfig.sourceRootFolderId,\n        destinationManifestFolderId: adminConfig.destinationManifestFolderId,\n        manifestFilename: adminConfig.manifestFilename\n      },\n      null,\n      2\n    );\n  }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", init);\n"],
  "mappings": ";;;AAWO,MAAM,cAA2B;AAAA,IACtC,UAAU;AAAA,EACZ;AAEO,MAAM,cAA2B;AAAA,IACtC,oBAAoB;AAAA,IACpB,6BAA6B;AAAA,IAC7B,kBAAkB;AAAA,EACpB;;;ACdA,MAAM,iBAAiB;AACvB,MAAM,oBAAoB;AAE1B,MAAM,SAAS,CAAC,UAAU,SAAS,WAAW,yCAAyC,8CAA8C;AAqBrI,WAAS,oBAAmC;AAC1C,QAAI,OAAO,QAAQ,UAAU,OAAQ,QAAO,QAAQ,QAAQ;AAE5D,UAAM,WAAW,SAAS,cAAc,eAAe,cAAc,IAAI;AACzE,QAAI,UAAU;AACZ,aAAO,IAAI,QAAc,CAAC,SAAS,WAAW;AAC5C,iBAAS,iBAAiB,QAAQ,MAAM,QAAQ,GAAG,EAAE,MAAM,KAAK,CAAC;AACjE,iBAAS,iBAAiB,SAAS,MAAM,OAAO,IAAI,MAAM,iDAAiD,CAAC,GAAG,EAAE,MAAM,KAAK,CAAC;AAAA,MAC/H,CAAC;AAAA,IACH;AAEA,WAAO,IAAI,QAAc,CAAC,SAAS,WAAW;AAC5C,YAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,aAAO,MAAM;AACb,aAAO,QAAQ;AACf,aAAO,QAAQ;AACf,aAAO,SAAS,MAAM,QAAQ;AAC9B,aAAO,UAAU,MAAM,OAAO,IAAI,MAAM,iDAAiD,CAAC;AAC1F,eAAS,KAAK,YAAY,MAAM;AAAA,IAClC,CAAC;AAAA,EACH;AAEA,iBAAe,eAAe,aAAkD;AAC9E,UAAM,MAAM,MAAM,MAAM,mBAAmB;AAAA,MACzC,QAAQ;AAAA,MACR,SAAS;AAAA,QACP,eAAe,UAAU,WAAW;AAAA,MACtC;AAAA,IACF,CAAC;AAED,QAAI,CAAC,IAAI,GAAI,QAAO;AAEpB,UAAM,OAAQ,MAAM,IAAI,KAAK;AAC7B,WAAO,KAAK;AAAA,EACd;AAEA,iBAAsB,iBAAwC;AAC5D,UAAM,kBAAkB;AAExB,UAAM,cAAc,OAAO,OAAO,SAAS,OAAO,gBAAgB;AAAA,MAChE,WAAW,YAAY;AAAA,MACvB,OAAO,OAAO,KAAK,GAAG;AAAA,MACtB,UAAU,MAAM;AAAA,MAEhB;AAAA,IACF,CAAC;AAED,UAAM,QAAQ,MAAM,IAAI,QAA0B,CAAC,YAAY;AAC7D,kBAAY,WAAW,CAAC,SAA2B,QAAQ,IAAI;AAC/D,kBAAY,mBAAmB,EAAE,QAAQ,UAAU,CAAC;AAAA,IACtD,CAAC;AAED,QAAI,MAAM,OAAO;AACf,YAAM,OAAO,MAAM,oBAAoB,KAAK,MAAM,iBAAiB,KAAK;AACxE,YAAM,IAAI,MAAM,+BAA+B,MAAM,KAAK,GAAG,IAAI,EAAE;AAAA,IACrE;AAEA,UAAM,cAAc,MAAM;AAC1B,UAAM,YAAY,MAAM;AAExB,QAAI,CAAC,eAAe,CAAC,WAAW;AAC9B,YAAM,IAAI,MAAM,0DAA0D;AAAA,IAC5E;AAEA,UAAM,QAAQ,MAAM,eAAe,WAAW;AAE9C,WAAO,EAAE,aAAa,WAAW,MAAM;AAAA,EACzC;;;AC7EA,MAAM,cAAc;AAEpB,iBAAe,UAAa,KAAa,SAAkC;AACzE,UAAM,MAAM,MAAM,MAAM,KAAK,OAAO;AACpC,UAAM,WAAW,MAAM,IAAI,KAAK;AAChC,QAAI,CAAC,IAAI,IAAI;AACX,YAAM,IAAI,MAAM,mBAAmB,IAAI,MAAM,KAAK,IAAI,UAAU,WAAW,QAAQ,EAAE;AAAA,IACvF;AACA,WAAQ,WAAY,KAAK,MAAM,QAAQ,IAAW,CAAC;AAAA,EACrD;AAEA,iBAAe,eAAe,aAAqB,UAAkB,WAAuC;AAC1G,UAAM,SAAS;AAAA,MACb;AAAA,MACA;AAAA,IACF,EAAE,KAAK,GAAG;AAEV,UAAM,SAAS,IAAI,gBAAgB;AAAA,MACjC,GAAG,IAAI,QAAQ;AAAA,MACf,2BAA2B;AAAA,MAC3B,mBAAmB;AAAA,MACnB;AAAA,IACF,CAAC;AAED,QAAI,UAAW,QAAO,IAAI,aAAa,SAAS;AAEhD,UAAM,MAAM,6CAA6C,OAAO,SAAS,CAAC;AAE1E,UAAM,OAAO,MAAM,UAA0D,KAAK;AAAA,MAChF,QAAQ;AAAA,MACR,SAAS;AAAA,QACP,eAAe,UAAU,WAAW;AAAA,MACtC;AAAA,IACF,CAAC;AAED,WAAO;AAAA,MACL,OAAO,KAAK,SAAS,CAAC;AAAA,MACtB,eAAe,KAAK;AAAA,IACtB;AAAA,EACF;AAEA,iBAAsB,cACpB,aACA,cACA,QACsB;AACtB,UAAM,MAAmB,CAAC;AAC1B,UAAM,QAAkB,CAAC,YAAY;AAErC,WAAO,MAAM,SAAS,GAAG;AACvB,YAAM,WAAW,MAAM,MAAM;AAC7B,UAAI;AACJ,UAAI,YAAY;AAEhB,SAAG;AACD,cAAM,OAAO,MAAM,eAAe,aAAa,UAAU,SAAS;AAClE,YAAI,KAAK,GAAG,KAAK,KAAK;AAEtB,mBAAW,QAAQ,KAAK,OAAO;AAC7B,cAAI,KAAK,aAAa,eAAe,KAAK,IAAI;AAC5C,kBAAM,KAAK,KAAK,EAAE;AAAA,UACpB;AAAA,QACF;AAEA,qBAAa;AACb,YAAI,OAAQ,QAAO,EAAE,UAAU,OAAO,KAAK,MAAM,QAAQ,MAAM,UAAU,CAAC;AAE1E,oBAAY,KAAK;AAAA,MACnB,SAAS;AAAA,IACX;AAEA,WAAO;AAAA,EACT;AAEA,iBAAsB,iBACpB,aACA,qBACA,UACA,YACiB;AACjB,UAAM,WAAW,0BAA0B,KAAK,OAAO,EAAE,SAAS,EAAE,EAAE,MAAM,CAAC;AAC7E,UAAM,YAAY,KAAK,QAAQ;AAC/B,UAAM,iBAAiB,KAAK,QAAQ;AAEpC,UAAM,WAAW;AAAA,MACf,MAAM;AAAA,MACN,SAAS,CAAC,mBAAmB;AAAA,MAC7B,UAAU;AAAA,IACZ;AAEA,UAAM,OAAO;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA,KAAK,UAAU,QAAQ;AAAA,MACvB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF,EAAE,KAAK,MAAM;AAEb,UAAM,MAAM;AAEZ,UAAM,MAAM,MAAM,MAAM,KAAK;AAAA,MAC3B,QAAQ;AAAA,MACR,SAAS;AAAA,QACP,eAAe,UAAU,WAAW;AAAA,QACpC,gBAAgB,+BAA+B,QAAQ;AAAA,MACzD;AAAA,MACA;AAAA,IACF,CAAC;AAED,UAAM,WAAW,MAAM,IAAI,KAAK;AAChC,QAAI,CAAC,IAAI,IAAI;AACX,YAAM,IAAI,MAAM,yBAAyB,IAAI,MAAM,IAAI,IAAI,UAAU,WAAW,QAAQ,EAAE;AAAA,IAC5F;AAEA,UAAM,OAAO,WAAY,KAAK,MAAM,QAAQ,IAAwB,CAAC;AACrE,QAAI,CAAC,KAAK,IAAI;AACZ,YAAM,IAAI,MAAM,gDAAgD;AAAA,IAClE;AACA,WAAO,KAAK;AAAA,EACd;;;AC7IO,MAAM,UAAU;AAAA,IACrB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AAEA,WAAS,UAAU,OAAuB;AACxC,UAAM,cAAc,MAAM,SAAS,GAAG,KAAK,MAAM,SAAS,GAAG,KAAK,MAAM,SAAS,IAAI,KAAK,MAAM,SAAS,IAAI;AAC7G,QAAI,CAAC,YAAa,QAAO;AACzB,WAAO,IAAI,MAAM,QAAQ,MAAM,IAAI,CAAC;AAAA,EACtC;AAEA,WAAS,aAAa,MAAyB;AAC7C,YAAQ,KAAK,UAAU,CAAC,GACrB,IAAI,CAAC,MAAM,EAAE,YAAY,EACzB,OAAO,CAAC,MAAmB,CAAC,CAAC,CAAC,EAC9B,KAAK,GAAG;AAAA,EACb;AAEA,WAAS,cAAc,MAAyB;AAC9C,YAAQ,KAAK,WAAW,CAAC,GAAG,KAAK,GAAG;AAAA,EACtC;AAEA,WAAS,kBAAkB,MAAyB;AAClD,UAAM,SAAS,KAAK,eAAe,CAAC,GAAG,IAAI,CAAC,OAAO;AAAA,MACjD,MAAM,EAAE;AAAA,MACR,MAAM,EAAE;AAAA,MACR,cAAc,EAAE;AAAA,IAClB,EAAE;AACF,WAAO,MAAM,SAAS,IAAI,KAAK,UAAU,KAAK,IAAI;AAAA,EACpD;AAEO,WAAS,YAAYA,QAAgC;AAC1D,UAAM,OAAmB,CAAC;AAC1B,SAAK,KAAK,CAAC,GAAG,OAAO,CAAC;AAEtB,eAAW,QAAQA,QAAO;AACxB,WAAK,KAAK;AAAA,QACR,KAAK,MAAM;AAAA,QACX,KAAK,QAAQ;AAAA,QACb,KAAK,YAAY;AAAA,QACjB,cAAc,IAAI;AAAA,QAClB,aAAa,IAAI;AAAA,QACjB,KAAK,WAAW;AAAA,QAChB,KAAK,UAAU,SAAS;AAAA,QACxB,KAAK,iBAAiB,YAAY;AAAA,QAClC,KAAK,iBAAiB,kBAAkB;AAAA,QACxC,kBAAkB,IAAI;AAAA,QACtB,KAAK,eAAe;AAAA,QACpB,KAAK,gBAAgB;AAAA,MACvB,CAAC;AAAA,IACH;AAEA,WAAO;AAAA,EACT;AAEO,WAAS,UAAUA,QAA4B;AACpD,UAAM,QAAkB,CAAC;AACzB,UAAM,OAAO,YAAYA,MAAK;AAC9B,eAAW,OAAO,MAAM;AACtB,YAAM,KAAK,IAAI,IAAI,CAAC,MAAM,UAAU,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC;AAAA,IACnD;AACA,WAAO,MAAM,KAAK,IAAI;AAAA,EACxB;;;ACvEA,MAAM,aAAa;AAEnB,WAAS,UAAU,SAAyB;AAC1C,WAAO,QAAQ,QAAQ,WAAW,EAAE,KAAK;AAAA,EAC3C;AAEA,iBAAe,iBAAiB,aAAqB,qBAA6B,OAAgC;AAChH,UAAM,MAAM;AACZ,UAAM,WAAW;AAAA,MACf,MAAM;AAAA,MACN,UAAU;AAAA,MACV,SAAS,CAAC,mBAAmB;AAAA,IAC/B;AAEA,UAAM,MAAM,MAAM,MAAM,KAAK;AAAA,MAC3B,QAAQ;AAAA,MACR,SAAS;AAAA,QACP,eAAe,UAAU,WAAW;AAAA,QACpC,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM,KAAK,UAAU,QAAQ;AAAA,IAC/B,CAAC;AAED,UAAM,WAAW,MAAM,IAAI,KAAK;AAChC,QAAI,CAAC,IAAI,IAAI;AACX,YAAM,IAAI,MAAM,2BAA2B,IAAI,MAAM,IAAI,IAAI,UAAU,WAAW,QAAQ,EAAE;AAAA,IAC9F;AAEA,UAAM,OAAO,WAAY,KAAK,MAAM,QAAQ,IAAwB,CAAC;AACrE,QAAI,CAAC,KAAK,GAAI,OAAM,IAAI,MAAM,+CAA+C;AAC7E,WAAO,KAAK;AAAA,EACd;AAEA,iBAAe,UAAU,aAAqB,eAAuB,MAAiC;AAEpG,UAAM,QAAQ;AACd,UAAM,MAAM,iDAAiD,mBAAmB,aAAa,CAAC,WAAW;AAAA,MACvG;AAAA,IACF,CAAC;AAED,UAAM,MAAM,MAAM,MAAM,KAAK;AAAA,MAC3B,QAAQ;AAAA,MACR,SAAS;AAAA,QACP,eAAe,UAAU,WAAW;AAAA,QACpC,gBAAgB;AAAA,MAClB;AAAA,MACA,MAAM,KAAK,UAAU,EAAE,QAAQ,KAAK,CAAC;AAAA,IACvC,CAAC;AAED,UAAM,WAAW,MAAM,IAAI,KAAK;AAChC,QAAI,CAAC,IAAI,IAAI;AACX,YAAM,IAAI,MAAM,iCAAiC,IAAI,MAAM,IAAI,IAAI,UAAU,WAAW,QAAQ,EAAE;AAAA,IACpG;AAAA,EACF;AAEA,iBAAsB,qBACpB,aACA,qBACA,eACAC,QACmD;AACnD,UAAM,OAAO,YAAYA,MAAK;AAE9B,QAAI,KAAK,WAAW,EAAG,MAAK,KAAK,CAAC,GAAG,OAAO,CAAC;AAE7C,UAAM,QAAQ,UAAU,aAAa;AACrC,UAAM,gBAAgB,MAAM,iBAAiB,aAAa,qBAAqB,KAAK;AACpF,UAAM,UAAU,aAAa,eAAe,IAAI;AAEhD,WAAO,EAAE,eAAe,MAAM;AAAA,EAChC;;;ACnEA,MAAI,OAA4B;AAChC,MAAI,QAAqB,CAAC;AAE1B,WAAS,KAA4B,IAAsB;AACzD,WAAO,SAAS,eAAe,EAAE;AAAA,EACnC;AAEA,WAAS,UAAU,SAAuB;AACxC,UAAM,KAAK,KAAsB,QAAQ;AACzC,QAAI,GAAI,IAAG,cAAc;AAAA,EAC3B;AAEA,WAAS,UAAU,SAAuB;AACxC,UAAM,KAAK,KAAqB,KAAK;AACrC,QAAI,CAAC,GAAI;AACT,OAAG,eAAe,UAAU;AAC5B,OAAG,YAAY,GAAG;AAAA,EACpB;AAEA,WAAS,WAAW,SAAwB;AAC1C,UAAM,UAAU;AAAA,MACd;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACF,EACG,IAAI,CAAC,OAAO,KAAwB,EAAE,CAAC,EACvC,OAAO,CAAC,MAA8B,CAAC,CAAC,CAAC;AAC5C,YAAQ,QAAQ,CAAC,MAAO,EAAE,WAAW,OAAQ;AAAA,EAC/C;AAEA,WAAS,UAAUC,QAAqG;AACtH,QAAI,UAAU;AACd,QAAI,QAAQ;AACZ,QAAI,YAAY;AAChB,UAAM,cAA2B,CAAC;AAElC,eAAW,QAAQA,QAAO;AACxB,UAAI,KAAK,aAAa,sCAAsC;AAC1D,mBAAW;AAAA,MACb,WAAW,KAAK,iBAAiB;AAC/B,qBAAa;AACb,iBAAS;AAAA,MACX,OAAO;AACL,iBAAS;AAAA,MACX;AAEA,WAAK,KAAK,SAAS,UAAU,KAAK,GAAG;AACnC,oBAAY,KAAK,IAAI;AAAA,MACvB;AAAA,IACF;AAEA,WAAO,EAAE,SAAS,OAAO,WAAW,YAAY;AAAA,EAClD;AAEA,WAAS,YAAYA,QAA0B;AAC7C,UAAM,UAAU,UAAUA,MAAK;AAC/B,UAAM,KAAK,KAAqB,SAAS;AACzC,QAAI,CAAC,GAAI;AAET,OAAG,YAAY;AAAA,yCACwBA,OAAM,MAAM;AAAA,qCAChB,QAAQ,OAAO;AAAA,qDACC,QAAQ,KAAK;AAAA,uCAC3B,QAAQ,SAAS;AAAA,gDACR,QAAQ,YAAY,MAAM;AAAA;AAGxE,UAAM,QAAQ,KAAqB,aAAa;AAChD,QAAI,OAAO;AACT,UAAI,QAAQ,YAAY,WAAW,GAAG;AACpC,cAAM,cAAc;AAAA,MACtB,OAAO;AACL,cAAM,QAAQ,QAAQ,YAAY,IAAI,CAAC,MAAM,GAAG,EAAE,EAAE,OAAO,EAAE,QAAQ,WAAW,gBAAgB,EAAE,WAAW,CAAC,GAAG,KAAK,GAAG,CAAC,EAAE;AAC5H,cAAM,cAAc,MAAM,KAAK,IAAI;AAAA,MACrC;AAAA,IACF;AAAA,EACF;AAEA,WAAS,aAA2C;AAClD,QAAI,CAAC,MAAM;AACT,YAAM,IAAI,MAAM,qBAAqB;AAAA,IACvC;AAAA,EACF;AAEA,iBAAe,aAA4B;AACzC,eAAW,IAAI;AACf,cAAU,4BAA4B;AACtC,cAAU,mBAAmB;AAC7B,QAAI;AACF,aAAO,MAAM,eAAe;AAC5B,gBAAU,oBAAoB,KAAK,SAAS,cAAc,sBAAsB,KAAK,SAAS,IAAI;AAClG,gBAAU,mBAAmB,KAAK,SAAS,SAAS,EAAE;AAAA,IACxD,SAAS,KAAK;AACZ,gBAAU,eAAe,QAAQ,IAAI,UAAU,OAAO,GAAG,CAAC;AAC1D,gBAAU,cAAc;AAAA,IAC1B,UAAE;AACA,iBAAW,KAAK;AAAA,IAClB;AAAA,EACF;AAEA,iBAAe,kBAAiC;AAC9C,eAAW,IAAI;AACf,cAAU,gBAAgB;AAC1B,cAAU,yBAAyB;AACnC,YAAQ,CAAC;AAET,QAAI;AACF,iBAAW;AACX,YAAM,OAAO,YAAY;AACzB,UAAI,CAAC,QAAQ,KAAK,WAAW,cAAc,GAAG;AAC5C,cAAM,IAAI,MAAM,qCAAqC;AAAA,MACvD;AAEA,cAAQ,MAAM,cAAc,KAAK,aAAa,MAAM,CAAC,EAAE,UAAU,OAAAA,QAAO,KAAK,MAAM;AACjF,kBAAU,UAAU,QAAQ,UAAU,IAAI,KAAKA,MAAK,QAAQ;AAAA,MAC9D,CAAC;AAED,gBAAU,mBAAmB,MAAM,MAAM,WAAW;AACpD,gBAAU,uBAAuB;AACjC,kBAAY,KAAK;AAAA,IACnB,SAAS,KAAK;AACZ,gBAAU,eAAe,QAAQ,IAAI,UAAU,OAAO,GAAG,CAAC;AAC1D,gBAAU,qBAAqB;AAAA,IACjC,UAAE;AACA,iBAAW,KAAK;AAAA,IAClB;AAAA,EACF;AAEA,WAAS,iBAAuB;AAC9B,QAAI,MAAM,WAAW,GAAG;AACtB,gBAAU,6CAA6C;AACvD;AAAA,IACF;AACA,UAAM,MAAM,UAAU,KAAK;AAC3B,UAAM,OAAO,IAAI,KAAK,CAAC,GAAG,GAAG,EAAE,MAAM,WAAW,CAAC;AACjD,UAAM,MAAM,IAAI,gBAAgB,IAAI;AACpC,UAAM,IAAI,SAAS,cAAc,GAAG;AACpC,MAAE,OAAO;AACT,MAAE,WAAW,YAAY,oBAAoB;AAC7C,aAAS,KAAK,YAAY,CAAC;AAC3B,MAAE,MAAM;AACR,MAAE,OAAO;AACT,QAAI,gBAAgB,GAAG;AACvB,cAAU,iBAAiB;AAAA,EAC7B;AAEA,iBAAe,eAA8B;AAC3C,eAAW,IAAI;AACf,QAAI;AACF,iBAAW;AACX,UAAI,MAAM,WAAW,EAAG,OAAM,IAAI,MAAM,2CAA2C;AAEnF,YAAM,MAAM,UAAU,KAAK;AAC3B,YAAM,OAAO,YAAY;AACzB,UAAI,CAAC,QAAQ,KAAK,WAAW,cAAc,GAAG;AAC5C,cAAM,IAAI,MAAM,8CAA8C;AAAA,MAChE;AAEA,gBAAU,2BAA2B;AACrC,YAAM,SAAS,MAAM,iBAAiB,KAAK,aAAa,MAAM,YAAY,kBAAkB,GAAG;AAC/F,gBAAU,wCAAwC,MAAM,EAAE;AAC1D,gBAAU,uBAAuB,MAAM,EAAE;AAAA,IAC3C,SAAS,KAAK;AACZ,gBAAU,eAAe,QAAQ,IAAI,UAAU,OAAO,GAAG,CAAC;AAC1D,gBAAU,gBAAgB;AAAA,IAC5B,UAAE;AACA,iBAAW,KAAK;AAAA,IAClB;AAAA,EACF;AAEA,iBAAe,cAA6B;AAC1C,eAAW,IAAI;AACf,QAAI;AACF,iBAAW;AACX,UAAI,MAAM,WAAW,EAAG,OAAM,IAAI,MAAM,0CAA0C;AAClF,YAAM,OAAO,YAAY;AACzB,UAAI,CAAC,QAAQ,KAAK,WAAW,cAAc,GAAG;AAC5C,cAAM,IAAI,MAAM,8CAA8C;AAAA,MAChE;AAEA,YAAM,SAAS,YAAY,oBAAoB,oBAAoB,QAAQ,WAAW,EAAE;AAExF,gBAAU,0BAA0B;AACpC,YAAM,EAAE,cAAc,IAAI,MAAM,qBAAqB,KAAK,aAAa,MAAM,OAAO,KAAK;AACzF,gBAAU,kCAAkC,aAAa,EAAE;AAC3D,gBAAU,kCAAkC,aAAa,EAAE;AAAA,IAC7D,SAAS,KAAK;AACZ,gBAAU,eAAe,QAAQ,IAAI,UAAU,OAAO,GAAG,CAAC;AAC1D,gBAAU,wBAAwB;AAAA,IACpC,UAAE;AACA,iBAAW,KAAK;AAAA,IAClB;AAAA,EACF;AAEA,WAAS,OAAa;AACpB,SAAwB,MAAM,GAAG,iBAAiB,SAAS,MAAM,KAAK,WAAW,CAAC;AAClF,SAAwB,WAAW,GAAG,iBAAiB,SAAS,MAAM,KAAK,gBAAgB,CAAC;AAC5F,SAAwB,UAAU,GAAG,iBAAiB,SAAS,MAAM,eAAe,CAAC;AACrF,SAAwB,QAAQ,GAAG,iBAAiB,SAAS,MAAM,KAAK,aAAa,CAAC;AACtF,SAAwB,OAAO,GAAG,iBAAiB,SAAS,MAAM,KAAK,YAAY,CAAC;AAEpF,UAAM,MAAM,KAAqB,QAAQ;AACzC,QAAI,KAAK;AACP,UAAI,cAAc,KAAK;AAAA,QACrB;AAAA,UACE,oBAAoB,YAAY;AAAA,UAChC,6BAA6B,YAAY;AAAA,UACzC,kBAAkB,YAAY;AAAA,QAChC;AAAA,QACA;AAAA,QACA;AAAA,MACF;AAAA,IACF;AAAA,EACF;AAEA,WAAS,iBAAiB,oBAAoB,IAAI;",
  "names": ["items", "items", "items"]
}
